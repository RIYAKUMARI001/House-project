<% if (success && success.length) { %>
  <div class="alert alert-success alert-dismissible fade show auto-dismiss" role="alert">
    <i class="fas fa-check-circle me-2"></i>
    <%= success %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>

<% if (error && error.length) { %>
  <div class="alert alert-danger alert-dismissible fade show auto-dismiss" role="alert">
    <i class="fas fa-exclamation-circle me-2"></i>
    <%= error %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>

<script>
// Auto-dismiss flash messages after 4 seconds
document.addEventListener('DOMContentLoaded', function() {
    const alerts = document.querySelectorAll('.auto-dismiss');
    
    alerts.forEach(function(alert) {
        // Auto-dismiss after 4 seconds
        setTimeout(function() {
            if (alert && alert.parentNode) {
                // Bootstrap's fade out animation
                alert.classList.remove('show');
                
                // Remove from DOM after animation completes
                setTimeout(function() {
                    if (alert && alert.parentNode) {
                        alert.remove();
                    }
                }, 150); // Bootstrap fade transition duration
            }
        }, 4000); // 4 seconds
        
        // Add smooth slide-in animation
        alert.style.transform = 'translateY(-20px)';
        alert.style.opacity = '0';
        
        setTimeout(function() {
            alert.style.transition = 'all 0.3s ease';
            alert.style.transform = 'translateY(0)';
            alert.style.opacity = '1';
        }, 100);
    });
});
</script>

<style>
.auto-dismiss {
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border: none;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.alert-success {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
    border-left: 4px solid #28a745;
}

.alert-danger {
    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
    border-left: 4px solid #dc3545;
}

.alert i {
    font-size: 1.1rem;
}
</style>
